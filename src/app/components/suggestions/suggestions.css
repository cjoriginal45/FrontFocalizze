/* --- ESTILOS COMUNES (USADOS POR AMBAS VERSIONES) --- */
/* Estos estilos se aplican al contenido interno, que es el mismo en ambos casos. */

.suggestions-content {
  display: flex;
  flex-direction: column;
  height: 100%;
}

.suggestions {
  flex-grow: 0;
  margin-bottom: 20px;
}

.suggestions__title {
  font-size: 1.2rem;
  font-weight: bold;
  margin-bottom: 15px;
  color: var(--primary-color);
}

.suggestions__list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-direction: column;
  gap: 15px;
  padding-right: 10px;
}

.suggestions__item {
  display: flex;
  align-items: center;
}

.suggestions__icon {
  margin-right: 10px;
  color: var(--primary-color);
}

.suggestions__name {
  flex-grow: 1;
  font-weight: 500;
  color: var(--primary-color);
}

.suggestions__button {
  background-color: transparent;
  border: 2px solid var(--primary-color);
  border-radius: 20px;
  padding: 5px 15px;
  font-weight: bold;
  cursor: pointer;
  transition: background-color 0.2s, color 0.2s;
  color: var(--primary-color);
}

.suggestions__button:hover {
  background-color: var(--primary-color);
  color: white;
}

.suggestions__see-more {
  display: block;
  margin-top: 15px;
  text-decoration: none;
  font-weight: 500;
  color: var(--primary-color);
  border-bottom: 1px solid var(--border-color);
  padding-bottom: 12px;
  cursor: pointer;
}

.suggestions__see-more:hover {
  color: var(--icon-color);
}

.suggestions__list--scrollable {
  /* Le damos una altura máxima para que no ocupe toda la pantalla */
  max-height: 300px;

  /* Si la lista supera esta altura, aparecerá una barra de scroll vertical */
  overflow-y: auto;
  /* Añadimos un poco de padding a la derecha para que el scrollbar no se pegue al texto */
  padding-right: 10px;
}

.footer-links {
  display: flex;
  flex-direction: column;
  align-items: center;
}

.footer-links__list {
  flex-direction: column;
  align-items: center;
  list-style: none;
  padding: 0;
  margin: 0;
  display: flex;
  flex-wrap: wrap;
  gap: 10px 15px;
  font-size: 0.8rem;
}

.footer-links__item a {
  font-size: 14px;
  text-decoration: none;
  color: var(--text-color) !important;
}

.footer-links__item a:hover {
  text-decoration: underline;
}

.footer-links__copyright {
  margin-top: 20px;
  font-size: 0.8rem;
  color: var(--text-color);
  align-self: center;
}

/* --- ESTILOS CORREGIDOS PARA LA ANIMACIÓN DE DESPLIEGUE --- */

/* 
  Contenedor exterior: gestiona la animación de altura.
*/
.all-categories-wrapper {
  display: grid;
  grid-template-rows: 0fr; /* Estado inicial: colapsado */

  /* --- CAMBIO 1: Transición más suave y solo al expandir --- */
  transition: grid-template-rows 0.4s ease-out; /* Curva 'ease-out' para una apertura natural */
}

.all-categories-wrapper.expanded {
  grid-template-rows: 1fr; /* Estado final: expandido */
}

/* 
  Contenedor interior (el UL): gestiona el scroll.
*/
.suggestions__list--scrollable {
  /* --- CAMBIO 2: Lógica de scroll y visibilidad --- */

  overflow: hidden; /* Oculta el contenido mientras está colapsado */
  visibility: hidden; /* Lo hace completamente invisible e inaccesible */
  opacity: 0;

  /* Le damos una altura máxima para que aparezca el scroll si es necesario */
  max-height: 300px;

  /* Transición para la opacidad y visibilidad al cerrar */
  transition: opacity 0.3s ease-in, visibility 0.3s;
}

.all-categories-wrapper.expanded .suggestions__list--scrollable {
  /* --- CAMBIO 3: Aplicar scroll y visibilidad al expandir --- */

  overflow-y: auto; /* ¡Aquí es donde aparece la barra de scroll! */
  visibility: visible;
  opacity: 1;

  /* Le damos un pequeño retraso a la aparición para que coincida con la animación de altura */
  transition: opacity 0.3s ease-out 0.1s, visibility 0s 0s;
}

/* 
  (Opcional pero recomendado) Estilos para la barra de scroll.
*/
.suggestions__list--scrollable::-webkit-scrollbar {
  width: 6px;
}
.suggestions__list--scrollable::-webkit-scrollbar-thumb {
  background-color: rgba(0, 0, 0, 0.2);
  border-radius: 3px;
}

/* --- LÓGICA DE VISIBILIDAD Y POSICIONAMIENTO --- */

/* Por defecto (Mobile-First), ocultamos la versión de escritorio. */
.suggestions-desktop {
  display: none;
  background-color: var(--background-color);
}

/* Y mostramos el contenedor de móvil. */
.suggestions-mobile {
  display: block;
}

/* El botón disparador para móvil */
.suggestions-mobile__trigger {
  position: fixed; /* Se posiciona relativo a la ventana del navegador */
  top: 50%;
  right: 0;
  transform: translateY(-50%);
  z-index: 1001; /* Un valor alto para que esté por encima del contenido */
  display: flex;
  align-items: center;
  justify-content: center;
  width: 30px;
  height: 60px;
  background-color: var(--background-color);
  color: var(--primary-color);
  border: 1px solid var(--primary-color);
  border-right: none;
  border-radius: 10px 0 0 10px;
  cursor: pointer;
  box-shadow: -2px 0px 5px rgba(0, 0, 0, 0.1);
}

/* El fondo oscuro */
.suggestions-mobile__overlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0, 0, 0, 0.5);
  z-index: 1002;
}

/* El panel deslizable */
.suggestions-mobile__panel {
  position: fixed;
  top: 0;
  right: 0;
  width: 80%;
  max-width: 300px;
  height: 100%;
  background-color: var(--background-color);
  z-index: 1003;
  transform: translateX(100%); /* Oculto fuera de la pantalla */
  transition: transform 0.3s ease-in-out;
  padding: 20px;
  box-sizing: border-box; /* Asegura que el padding no afecte el ancho total */
  overflow-y: auto;
}

/* Modificador para mostrar el panel */
.suggestions-mobile__panel--is-open {
  transform: translateX(0);
}

/* --- MEDIA QUERY PARA ESCRITORIO (A PARTIR DE 992px) --- */
@media (min-width: 992px) {
  .suggestions-mobile {
    display: none;
  }

  .suggestions-desktop {
    display: flex;
    flex-direction: column;
    position: sticky;
    top: var(--header-height); /* Se pega debajo del header */
    height: calc(100vh - var(--header-height) - 1vh);
    background-color: var(--background-color);
    padding: 20px;
    border-radius: 3px;
    box-sizing: border-box;
  }
}
