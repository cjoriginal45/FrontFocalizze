<app-header></app-header>

<div class="page-container">
  <div class="watermark-container">
    <span class="watermark-text">FOCALIZZE</span>
  </div>

  <header class="page-header">
    <button mat-icon-button (click)="goBack()" aria-label="Volver atrás">
      <mat-icon>arrow_back</mat-icon>
    </button>
    <h1>Configuración</h1>
  </header>

  <main class="content-wrapper">
    <h2 class="section-title">Seguridad y Acceso</h2>

    <div class="settings-card">
      <div class="setting-item clickable" (click)="changePassword()" matRipple>
        <div class="item-left">
          <mat-icon class="item-icon">vpn_key</mat-icon>
          <span class="item-text">Cambiar contraseña</span>
        </div>
        <mat-icon class="chevron-icon">chevron_right</mat-icon>
      </div>

      <div class="setting-item">
        <div class="item-left">
          <mat-icon class="item-icon">security</mat-icon>
          <div style="display: flex; flex-direction: column">
            <span class="item-text">Verificación en 2 pasos</span>
            <span class="item-subtext">Vía correo electrónico</span>
          </div>
        </div>
        <mat-slide-toggle
          color="primary"
          [checked]="isTwoFactorEnabled"
          [disabled]="isLoading"
          (change)="toggleTwoFactor()"
        >
        </mat-slide-toggle>
      </div>

      <div class="action-container">
        <button class="logout-all-btn" (click)="logoutAllDevices()" [disabled]="isLoading">
          @if (isLoading) { Procesando... } @else { Cerrar sesión en todos los dispositivos }
        </button>
      </div>
    </div>
  </main>
</div>

<app-botton-nav></app-botton-nav>
